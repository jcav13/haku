<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>One-by-One Booking</title>

  <style>
    /* Example: Load Optima from GitHub for the heading */
    @font-face {
      font-family: 'Optima';
      src: url('https://github.com/jcav13/haku/raw/refs/heads/main/OPTIMA.woff') format('woff');
      font-weight: normal;
      font-style: normal;
    }

    body {
      margin: 0; 
      padding: 0;
      background-color: #293717; /* Dark green */
      color: #F1E7BB;           /* Cream text */
      font-family: sans-serif;  /* or 'Satoshi', etc. */
      overflow: hidden;         /* no scrollbar if content fits */
    }

    /* "Book with H A K U" heading in Optima */
    .page-title {
      position: absolute;
      top: 30px;
      left: 50%;
      transform: translateX(-50%);
      font-family: 'Optima', sans-serif; 
      font-size: 32px;
      letter-spacing: 3px;
      text-transform: uppercase;
    }

    /* 
      Each step is absolutely placed in the center (top:50%, left:50%). 
      After 1 second idle, the question text box is removed, 
      leaving a label that slides to top-left. 
    */
    .step {
      position: absolute;
      top: 50%; 
      left: 50%;
      transform: translate(-50%, -50%);
      width: 320px; 
      text-align: left; /* so label is left-aligned */
      transition: all 0.7s ease; /* used if we want to animate container itself */
    }
    /* Initially only the first step is visible, others hidden. */
    .step.hidden {
      display: none; 
    }

    /* The actual question label + input in the center. */
    .question-label {
      color: #E8DCC0;
      margin-bottom: 8px;
      display: block;
      font-size: 16px;
    }

    .question-input {
      width: 100%;
      padding: 12px;
      border: 1px solid #F1E7BB;
      border-radius: 30px;
      background: transparent;
      color: #F1E7BB;
      font-size: 16px;
      outline: none;
      transition: box-shadow 0.3s ease;
      margin-bottom: 10px;
    }
    .question-input:focus {
      box-shadow: 0 0 8px rgba(255,255,255,0.3);
    }

    /* The label containing the userâ€™s answered text 
       that slides up to top-left. 
    */
    .answered-text {
      position: absolute;
      left: 50%; 
      top: 50%;
      transform: translate(-50%, -50%);
      font-size: 18px;
      color: #F1E7BB;
      opacity: 0;
      transition: all 0.7s ease;
    }

    /* Once we add .slide-left, it moves to top-left with an offset. */
    .slide-left {
      opacity: 1;
      /* shift ~800px to left, 
         and also up by some offset for each question. 
         We can set that offset in JS. */
    }

    /* optional styling for final submit button (only on last step) */
    .submit-btn {
      padding: 10px 30px;
      font-size: 18px;
      border-radius: 50px;
      background: transparent;
      color: #F1E7BB;
      border: 2px solid #F1E7BB;
      display: none; /* show after final step if desired */
      cursor: pointer;
      transition: all 0.4s ease-in-out;
      margin-top: 10px;
    }
    .submit-btn:hover {
      background: rgba(255,255,255,0.1);
      transform: scale(1.05);
    }
  </style>
</head>

<body>
  <div class="page-title">Book with H A K U</div>

  <!-- Step #1 (Name) -->
  <div class="step" id="step1">
    <label class="question-label" for="name">Name</label>
    <input type="text" id="name" class="question-input" />
  </div>

  <!-- Step #2 (Email) -->
  <div class="step hidden" id="step2">
    <label class="question-label" for="email">Email</label>
    <input type="email" id="email" class="question-input" />
  </div>

  <!-- Step #3 (Phone) -->
  <div class="step hidden" id="step3">
    <label class="question-label" for="phone">Phone Number</label>
    <input type="tel" id="phone" class="question-input" />
  </div>

  <!-- Step #4 (Service) -->
  <div class="step hidden" id="step4">
    <label class="question-label" for="service">Select Service</label>
    <select id="service" class="question-input">
      <option>Relaxation Massage</option>
      <option>Deep Tissue Therapy</option>
      <option>Japanese-Inspired Aromatherapy</option>
    </select>
  </div>

  <!-- Step #5 (Address) -->
  <div class="step hidden" id="step5">
    <label class="question-label" for="address">Address</label>
    <input type="text" id="address" class="question-input" />
  </div>

  <!-- Step #6 (Parking) -->
  <div class="step hidden" id="step6">
    <label class="question-label" for="parking">Parking Availability</label>
    <select id="parking" class="question-input">
      <option value="yes">Yes</option>
      <option value="no">No</option>
    </select>
  </div>

  <!-- Step #7 (Stairs) -->
  <div class="step hidden" id="step7">
    <label class="question-label" for="stairs">Do you have stairs?</label>
    <select id="stairs" class="question-input">
      <option value="yes">Yes</option>
      <option value="no">No</option>
    </select>
  </div>

  <!-- Step #8 (Pets) + Submit -->
  <div class="step hidden" id="step8">
    <label class="question-label" for="pets">Do you have pets?</label>
    <select id="pets" class="question-input">
      <option value="yes">Yes</option>
      <option value="no">No</option>
    </select>
    <button class="submit-btn" id="submitBtn">Submit</button>
  </div>

  <script>
    let currentStep = 1; 
    const totalSteps = 8;
    let typingTimer; // for 1 second idle

    // Step offsets so they don't all land on exactly the same top-left
    // e.g. step i => top: 20 + i*40 px
    function getStepOffsetY(stepNum) {
      return 20 + stepNum * 40; 
    }

    // Show step n, hide previous
    function showStep(stepNum) {
      // hide old
      const oldStep = document.getElementById("step" + (stepNum - 1));
      if(oldStep) oldStep.classList.add("hidden");

      // show new
      const newStep = document.getElementById("step" + stepNum);
      if(newStep) newStep.classList.remove("hidden");
    }

    function goToNextStep() {
      if (currentStep < totalSteps) {
        currentStep++;
        if(currentStep === totalSteps) {
          document.getElementById("submitBtn").style.display = "inline-block";
        }
        showStep(currentStep);
      }
    }

    // Called after 1s idle
    function finishStep(inputElem, stepNum) {
      // 1) Read input value
      const val = inputElem.value.trim();
      if(!val) return; // if empty, do nothing

      // 2) create an absolutely positioned label with that text 
      //    at the current step's center location
      const answered = document.createElement("div");
      answered.textContent = val; 
      answered.style.position = "absolute";
      answered.style.left = "50%";
      answered.style.top = "50%";
      answered.style.transform = "translate(-50%, -50%)";
      answered.style.color = "#F1E7BB";
      answered.style.fontSize = "18px";
      answered.style.transition = "transform 0.7s ease, opacity 0.7s ease";
      answered.style.opacity = "1";
      document.body.appendChild(answered);

      // 3) Remove the question from center (like user wants: "the text box disappears")
      const stepDiv = document.getElementById("step"+stepNum);
      stepDiv.style.display = "none"; 

      // 4) Slide the newly created label to top-left with some offset
      //    e.g. transform: translate(-800px, -some offset)
      const offsetY = getStepOffsetY(stepNum);
      setTimeout(() => {
        answered.style.transform = `translate(-800px, -${offsetY}px)`;
      }, 50);

      // 5) Move to next step
      goToNextStep();
    }

    function handleTyping(e, stepNum){
      clearTimeout(typingTimer);
      typingTimer = setTimeout(() => {
        finishStep(e.target, stepNum);
      }, 1000);
    }

    // On load, only step1 is shown
    for(let i=2; i<=totalSteps; i++){
      document.getElementById("step"+i).classList.add("hidden");
    }

    // attach input events
    for(let i=1; i<=totalSteps; i++){
      const stepDiv = document.getElementById("step"+i);
      const inp = stepDiv.querySelector("input, select");
      if(inp){
        inp.addEventListener("input", (e)=>handleTyping(e, i));
      }
    }
  </script>
</body>
</html>
